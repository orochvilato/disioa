{{ extend "base.html" }}
{{ block content }}
    <div id="depute-template" class="container">
        <div class="depute-header">
            <div class="depute-photo">
                <img src="http://www2.assemblee-nationale.fr/static/tribun/15/photos/{{ =depute_uid[2:]}}.jpg"/>
            </div>
            <div class="depute-identite">
                <header>
                    <h2><span>{{ ="%s / %s / %se circ" % (depute_region,depute_departement,depute_circo) }}</span></h2>
                    <h1>{{ =depute_nom }}</h1>
                </header>

                <div class="depute-contacts">
                    {{ for contact in depute_contacts: }}{{ if (contact['type']==u'mail'): }}<a class="depute-contact" href="mailto:{{ =contact['lien'] }}"><i class="fa fa-envelope-o"></i></a>
                    {{ elif (contact['type']=='twitter'): }}<a class="depute-contact" href="https://twitter.com/{{ =contact['lien'][2:] }}"><i class="fa fa-twitter"></i></a>
                    {{ elif (contact['type']=='facebook'): }}<a class="depute-contact" href="https://fr-fr.facebook.com/{{ =contact['lien'] }}"><i class="fa fa-facebook-square"></i></a>
                    {{ elif (contact['type']=='site'): }}<a class="depute-contact" href="http://{{ =contact['lien'] }}"><i class="fa fa-globe"></i></a>
                    {{ pass }}
                    {{ pass }}
                </div>

                <div class="depute-groupe {{ =groupe_abrev }}"><i class="fa fa-group"></i> <a href="{{ =URL('groupe','index',args=[groupe_abrev]) }}">{{ =groupe_libelle }}</a></div>
                <div class="depute-infos"><span>{{ ="%s, %s" % (depute_profession, depute_naissance) }}</span></div>
                <div class="depute-infos"><span>Participation : {{ ="%s/%s" % (stats['ranks']['exprimes'] or '-', 577) }}</span><br /><span>Dissidence : {{ ="%s/%s" % (stats['ranks']['dissidence'] or '-', 577) }}</span></div>
                <div class="depute-infos"><span>Suppléant : {{ =depute_suppleant }}</span></div>
            </div>
        </div>

        <div class="tab-container">
            <header>
                <input id="tab1" type="radio" name="tabs" value="presentation">
                <label for="tab1"><i class="fa fa-id-card-o"></i><span>Présentation</span></label>

                <input id="tab2" type="radio" name="tabs" value="interventions">
                <label for="tab2"><i class="fa fa-comment-o"></i><span>Interventions</span></label>

                <input id="tab3" type="radio" name="tabs" value="votes" checked>
                <label for="tab3"><i class="fa fa-hand-paper-o"></i><span>Votes</span></label>
            </header>

            <section id="presentation" class="tab-content"> <!-- Présentation -->
                <div class="depute-hemicycle">
                    <object id="hemicycle" data="{{ =URL('static','images/hemicyclelight.svg') }}" type="image/svg+xml"></object>
                    {{ =svgcirco(depute_circo_id) }}
                </div>
                <div class="depute-fonctions">
                    <h2>Fonctions / Mandats</h2>
                    <ul class="fa-ul">
                        <li><i class="fa fa-li fa-arrow-circle-o-right"></i> Membre de l'Assemblée {{ if 'depute_actif': }}depuis le {{ =depute_mandat_debut }}{{ else: }}{{ ='du %s au %s' % (depute_mandat_debut,depute_mandat_fin) }}{{ pass }}</li>
                        {{ if depute_bureau: }}<li><i class="fa fa-li fa-arrow-circle-o-right"></i> {{ =depute_bureau }}</li>{{ pass }}
                        {{ for typ,mandats in depute_mandats.iteritems(): }}{{ for m in mandats: }}
                        <li>
                            <i class="fa fa-li fa-arrow-circle-o-right"></i> <a href="{{ =m['lien'] }}">{{ =m['nom'] }}</a> ({{ =m['qualite'] }})
                        </li>
                        {{ pass }}{{ pass }}
                    </ul>
                    {{ if depute_autresmandats: }}
                    <h2>Autres Mandats</h2>
                    <ul class="fa-ul">
                        {{ for am in depute_autresmandats: }}
                        <li>
                            <i class="fa fa-li fa-arrow-circle-o-right"></i> {{ =am }}
                        </li>{{ pass }}
                    </ul>
                    {{ pass }}
                    {{ if depute_collaborateurs: }}
                    <h2>Collaborateurs</h2>
                    <ul class="fa-ul">
                        {{ for co in depute_collaborateurs: }}
                        <li>
                            <i class="fa fa-li fa-arrow-circle-o-right"></i> {{ =co }}
                        </li>{{ pass }}
                    </ul>
                    {{ pass }}
                </div>
                {{ if depute_deputywatch: }}
                <div class="depute-watch">
                    <h2>Deputy Watch</h2>
                    <div class="flex">
                        <img src="{{ =URL('static','assets/deputywatch.png') }}" alt="Deputy Watch">
                        <div>
                            Le site Deputy Watch tente de recenser les antécédents judiciaires de notoriété publique des élus.
                            Nous y avons cherché ce député et il semblerait qu'il y soit listé.<br />
                            <a href="{{ =depute_deputywatch['url'] }}" target="_blank">
                                <i class="fa fa-arrow-circle-o-right"></i> Voir le résultat
                            </a>
                        </div>
                    </div>
                </div>
                {{ pass }}
                {{ if len(depute_hatvp)>0: }}
                <div>
                    <h2>Déclaration à la HATVP</h2>
                    <ul class="fa-ul">
                        {{ for dec in depute_hatvp: }}
                        <li>
                            <a href="{{ =dec['docurl'] }}" target="_blank">
                                <i class="fa fa-li fa-file-text-o"></i>
                                {{ ="%s - %s" % (dec['typedoc'], dec['qualite']) }}
                            </a>
                        </li>
                        {{ pass }}
                    </ul>
                </div>
                {{ pass }}
            </section>

			<section id="interventions" class="tab-content"> <!-- Interventions -->
                <div class="depute-interventions-recap">
                    Nombre d'interventions : <span>311</span>, nombre de mots : <span>23812</span>
                </div>
                <div class="depute-interventions-cloud">
                    <div>
                        <h2>Ses mots</h2>
                        <div id="sourrounding_div_noms" class="cloud">
                            <canvas id="wordcanvas_noms"></canvas>
                        </div>
                    </div>
                    <div>
                        <h2>Ses verbes</h2>
                        <div id="sourrounding_div_verbs" class="cloud">
                            <canvas id="wordcanvas_verbs"></canvas>
                        </div>
                    </div>
                </div>
                <div id="itvlist">
                    <h2>Ses interventions</h2>
                    <div class="depute-interventions-search">
                        <label for="search"><i class="fa fa-search" aria-hidden="true"></i></label>
                        <input class="search" placeholder="Rechercher une intervention">
                    </div>
                    <ul class="fa-ul">
                        <li>
                            <i class="fa fa-list fa-comment"></i>
                            <a href="http://www.assemblee-nationale.fr/15/cri/2016-2017-extra/20171033.asp#P1019124" target="_blank">
                                <h3>Séance du mercredi 09 août 2017 / 2. Questions au Gouvernement / Bilan de la session extraordinaire</h3>
                            </a>
                            <blockquote>Pour notre malheur !</blockquote>
                        </li>
                        <li>
                            <i class="fa fa-list fa-comment"></i>
                            <a href="http://www.assemblee-nationale.fr/15/cri/2016-2017-extra/20171033.asp#P1019138" target="_blank">
                                <h3>Séance du mercredi 09 août 2017 / 2. Questions au Gouvernement / Bilan de la session extraordinaire</h3>
                            </a>
                            <blockquote>Vos histoires de famille, on s’en fout !</blockquote>
                        </li>
                        <li>
                            <i class="fa fa-list fa-comment"></i>
                            <a href="http://www.assemblee-nationale.fr/15/cri/2016-2017-extra/20171033.asp#P1019360" target="_blank">
                                <h3>Séance du mercredi 09 août 2017 / 2. Questions au Gouvernement / Maîtrise des flux migratoires</h3>
                            </a>
                            <blockquote>La faute à qui ?</blockquote>
                        </li>
                        <li>
                            <i class="fa fa-list fa-comment"></i>
                            <a href="http://www.assemblee-nationale.fr/15/cri/2016-2017-extra/20171033.asp#P1019469" target="_blank">
                                <h3>Séance du mercredi 09 août 2017 / 2. Questions au Gouvernement / Allocation de rentrée scolaire</h3>
                            </a>
                            <blockquote>Et vous fermez des lycées !</blockquote>
                        </li>
                        <li>
                            <i class="fa fa-list fa-comment"></i>
                            <a href="http://www.assemblee-nationale.fr/15/cri/2016-2017-extra/20171033.asp#P1019206" target="_blank">
                                <h3>Séance du mercredi 09 août 2017 / 2. Questions au Gouvernement / Privatisation des aéroports</h3>
                            </a>
                            <blockquote>Ah oui ! À bas le capital !</blockquote>
                        </li>
                    </ul>
                </div>
			</section>

			<section id="votes" class="tab-content"> <!-- Votes -->
				<div class="depute-votes-recap">
                    <div class="gauge">
                        <h2>Participation</h2>
                        <svg onload="init(evt)" pct="63" unit="%" viewBox="0 0 220 220" preserveAspectRatio= "xMinYMin meet" >
                            <script type="text/ecmascript"><![CDATA[
                                function polarToCartesian(centerX, centerY, radius, angleInDegrees) {
                                    var angleInRadians = (angleInDegrees-90) * Math.PI / 180.0;
                                    return {
                                    x: centerX + (radius * Math.cos(angleInRadians)),
                                    y: centerY + (radius * Math.sin(angleInRadians))
                                    };
                                }

                                function describeArc(x, y, radius, startAngle, endAngle){
                                    var start = polarToCartesian(x, y, radius, endAngle);
                                    var end = polarToCartesian(x, y, radius, startAngle);

                                    var largeArcFlag = endAngle - startAngle <= 180 ? "0" : "1";

                                    var d = [
                                    "M", start.x, start.y,
                                    "A", radius, radius, 0, largeArcFlag, 0, end.x, end.y
                                    ].join(" ");

                                    return d;
                                }

                                function init(evt) {
                                    var svgDocument = evt.target;

                                    pct = svgDocument.getAttribute("pct");
                                    svgDocument.getElementById("pct").textContent=pct+svgDocument.getAttribute("unit");
                                    svgDocument.getElementById("arc1").setAttribute("d", describeArc(110, 110, 100, 220, 500));
                                    // svgDocument.getElementById("arc2").setAttribute("d", describeArc(110, 110, 100, 220, 220+280*(pct/100)));
                                    var limit = 280*(pct/100);
                                    var nextval = 0;
                                    anime();
                                    function anime() {
                                        if (nextval<limit) {
                                            svgDocument.getElementById("arc2").setAttribute("d", describeArc(110, 110, 100, 220, 220+nextval));
                                            nextval = nextval + limit/20;
                                            setTimeout(anime,30);
                                        } else {
                                            svgDocument.getElementById("arc2").setAttribute("d", describeArc(110, 110, 100, 220, 220+limit));
                                        }
                                    }
                                }
                            ]]></script>
                            <text id="pct" text-anchor="middle" x="115" y="205" font-size="38" font-weight="bold" fill="#82cde2" style="font-family: 'Montserrat', sans serif;"></text>
                            <path id="arc1" fill="none" stroke="#82cde2" stroke-opacity="0.33" stroke-width="20" />
                            <path id="arc2" fill="none" stroke="#82cde2" stroke-width="20" />
                            <g transform="translate(53,42),scale(0.22)" id="layer1">
                                <rect
                                    ry="0"
                                    y="437.55606"
                                    x="12.830188"
                                    height="39.228226"
                                    width="329.1687"
                                    id="rect5428"
                                    style="fill:#82cde2;fill-opacity:1;stroke:none;stroke-width:24;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:23;stroke-opacity:1;paint-order:stroke fill markers"
                                />
                                <path
                                    style="color:#82cde2;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#82cde2;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#82cde2;solid-opacity:1;vector-effect:none;fill:#82cde2;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:60;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate"
                                    d="m 208.61133,97.583984 c -5.37532,-0.08198 -10.61978,1.64167 -14.89844,4.896486 -3.20059,2.43511 -5.73755,5.63518 -7.37891,9.30664 l -53.40429,119.46875 h 52.57617 l 36.57812,-81.82422 c 0.9793,-2.19041 3.16927,-3.5869 5.56836,-3.55078 110.67668,-20.44187 233.93101,54.13164 179.73633,-45.26172 z"
                                    id="path5391"
                                    inkscape:connector-curvature="0"
                                    sodipodi:nodetypes="ccccccccc"
                                />
                                <path
                                    style="fill:#82cde2;fill-opacity:1;stroke:none;stroke-width:24;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:23;stroke-opacity:1;paint-order:stroke fill markers"
                                    d="M 57.335938,243.25586 V 425.47461 H 300.91992 v -133.9375 l -90.30469,57.75781 c -18.65185,11.92939 -43.90661,7.53751 -55.74414,-10.9707 -11.83757,-18.50828 -5.23191,-43.27572 13.41993,-55.20508 l 62.32812,-39.86328 z m 217.826172,0 -93.94141,60.08203 c -8.46276,5.41262 -10.57709,15.10292 -6.13086,22.05469 4.44628,6.95183 14.13101,9.09621 22.59375,3.68359 l 98.92969,-63.27344 a 12.0012,12.0012 0 0 1 4.30664,-1.68554 v -20.86133 z"
                                    id="rect5426"
                                    inkscape:connector-curvature="0"
                                />
                                <path
                                    style="fill:none;stroke:#82cde2;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
                                    d="M 173.0876,317.36353 374.7819,190.95231"
                                    id="path5393"
                                    inkscape:connector-curvature="0"
                                />
                                <path
                                    style="fill:#82cde2;fill-opacity:1;stroke:none;stroke-width:24;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:23;stroke-opacity:1;paint-order:stroke fill markers"
                                    d="m 414.01562,79.416016 c -22.46658,9.978413 -45.69018,17.990088 -66.04492,19.933593 l -2.38281,1.093751 c -11.02275,5.06067 -17.15788,16.31194 -16.16992,27.70898 l -113.1875,10.68946 c 0,0 -18.33552,60.43982 -17.63672,62.64258 0.0425,0.13405 0.14753,0.20707 0.28125,0.25195 a 6.0006,6.0006 0 0 1 2.3457,-3.05469 c 10.09511,-6.88499 16.10147,-11.51309 20.50196,-14.3457 2.20024,-1.41631 3.88175,-2.5931 6.78125,-3.03125 0.72487,-0.10963 1.57457,-0.12415 2.44726,-0.004 0.87269,0.12024 1.76813,0.37417 2.58594,0.80469 1.63561,0.86104 2.69522,2.16955 3.3457,3.26953 11.4482,19.35897 12.28601,36.9638 12.83594,56.56445 a 6.0006,6.0006 0 0 1 -3.87695,5.82422 l -71.08594,45.46485 c -13.5573,8.67099 -17.91729,25.90081 -9.77539,38.63086 8.1419,12.73 25.61067,15.99717 39.16797,7.32617 l 98.92968,-63.27344 c 10e-6,0 40.97163,1.37873 122.50782,-73.34961 l 60.55664,-29.56055 A 360.56604,360.56604 0 0 0 414.01562,79.416016 Z"
                                    id="rect5416"
                                    inkscape:connector-curvature="0"
                                />
                            </g>
                        </svg>
                    </div>
                    <div class="gauge">
                        <h2>Contre son groupe</h2>
                        <svg onload="init(evt)" pct="0" unit="%" viewBox="0 0 220 220" preserveAspectRatio= "xMinYMin meet" >
                            <script type="text/ecmascript"><![CDATA[
                                function polarToCartesian(centerX, centerY, radius, angleInDegrees) {
                                    var angleInRadians = (angleInDegrees-90) * Math.PI / 180.0;
                                    return {
                                        x: centerX + (radius * Math.cos(angleInRadians)),
                                        y: centerY + (radius * Math.sin(angleInRadians))
                                    };
                                }

                                function describeArc(x, y, radius, startAngle, endAngle){
                                    var start = polarToCartesian(x, y, radius, endAngle);
                                    var end = polarToCartesian(x, y, radius, startAngle);

                                    var largeArcFlag = endAngle - startAngle <= 180 ? "0" : "1";

                                    var d = [
                                        "M", start.x, start.y,
                                        "A", radius, radius, 0, largeArcFlag, 0, end.x, end.y
                                    ].join(" ");

                                    return d;
                                }

                                function init(evt) {
                                    var svgDocument = evt.target;

                                    pct = svgDocument.getAttribute("pct");
                                    svgDocument.getElementById("pct").textContent=pct+svgDocument.getAttribute("unit");
                                    svgDocument.getElementById("arc1").setAttribute("d", describeArc(110, 110, 100, 220, 500));
                                    // svgDocument.getElementById("arc2").setAttribute("d", describeArc(110, 110, 100, 220, 220+280*(pct/100)));
                                    var limit = 280*(pct/100);
                                    var nextval = 0;
                                    anime();
                                    function anime() {

                                        if (nextval<limit) {
                                            svgDocument.getElementById("arc2").setAttribute("d", describeArc(110, 110, 100, 220, 220+nextval));
                                            nextval = nextval + limit/20;
                                            setTimeout(anime,30);
                                        } else {
                                            svgDocument.getElementById("arc2").setAttribute("d", describeArc(110, 110, 100, 220, 220+limit));
                                        }
                                    }
                                }
                            ]]></script>
                            <text id="pct" text-anchor="middle" x="115" y="205" font-size="38" font-weight="bold" fill="#82cde2" style="font-family: 'Montserrat', sans serif;"></text>
                            <path id="arc1" fill="none" stroke="#82cde2" stroke-opacity="0.23" stroke-width="20" />
                            <path id="arc2" fill="none" stroke="#82cde2" stroke-width="20" />
                            <g transform="translate(52,40),scale(0.22)" id="layer1">
                                <path
                                    style="fill:#82cde2;fill-opacity:1;stroke:none;stroke-width:24;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:23;stroke-opacity:1;paint-order:stroke fill markers"
                                    d="m 176.93055,289.28046 2.78983,28.69129 c 31.57624,11.14418 70.14267,14.47012 110.45284,3.51376 45.80256,-12.44923 67.35614,-33.86192 78.85702,-62.97346 0.99822,-2.52674 1.90801,-5.12634 2.73842,-7.79185 z m 5.31971,54.70867 14.11257,145.10139 a 289.492,289.492 0 0 0 162.69765,-12.33428 289.492,289.492 0 0 0 40.57,-19.35255 L 378.0565,292.03944 c -16.67453,23.65974 -43.08969,42.14146 -81.58991,52.60589 -40.91061,11.11959 -80.40434,9.21301 -114.21633,-0.6562 z"
                                    id="path5313"
                                    inkscape:connector-curvature="0"
                                />
                                <path
                                    style="fill:#82cde2;fill-opacity:1;stroke:none;stroke-width:23.99999809;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:markers stroke fill"
                                    d="m 103.9301,161.25661 c 0,0 -25.450374,44.19244 -10.453775,95.6187 14.996595,51.42625 102.980365,102.51661 199.844145,76.18885 88.84516,-24.14829 101.12621,-87.11022 97.48546,-164.54925 -5.43662,6.31562 -12.84347,10.90863 -21.59285,12.59296 -14.23569,2.7405 -27.92492,-3.08716 -36.86695,-13.54711 -4.7554,12.21002 -15.08548,21.85655 -28.67791,24.47322 -18.46122,3.55394 -36.17597,-7.13994 -43.52857,-23.92163 -4.65268,12.18237 -15.30329,21.77064 -29.02108,24.41143 l -21.01348,4.04628 c 3.75554,1.49 7.269,3.36436 10.54192,5.66938 16.28912,11.47197 25.05563,32.20428 30.09957,62.6221 a 6.0006,6.0006 0 1 1 -11.83859,1.96312 c -4.8184,-29.0577 -12.84472,-46.09544 -25.16987,-54.7757 -12.32516,-8.68027 -30.61932,-10.22492 -58.50553,-4.85658 a 6.0006,6.0006 0 0 1 -0.87391,0.10859 l -2.89705,0.55788 a 6.0006,6.0006 0 1 1 -2.26806,-11.78328 l 79.65694,-15.33507 c 13.12579,-2.52683 22.04207,-13.84309 21.8544,-26.69796 z m 176.58619,-8.67866 0.39174,2.03665 c 1.89904,9.86468 10.12029,15.41286 18.22407,13.85281 7.4827,-1.44048 12.79377,-8.55169 12.0709,-17.39843 z m 67.89482,-3.33615 c 3.36639,6.29709 9.84759,9.53507 16.26585,8.2995 5.11277,-0.98424 9.21471,-4.61884 11.07172,-9.6429 z"
                                    id="path5315"
                                    inkscape:connector-curvature="0"
                                />
                                <path
                                    style="fill:#82cde2;fill-opacity:1;stroke:none;stroke-width:24;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:23;stroke-opacity:0.97942349;paint-order:markers stroke fill"
                                    d="M 202.4636,41.700207 C 189.98116,46.265439 182.43956,59.945 185.19655,74.266417 l 8.87236,46.084983 22.32769,-4.29926 c 12.89484,-2.48238 25.54959,1.74425 34.36749,10.22002 L 238.76583,63.953482 c -3.0422,-15.802941 -17.43682,-26.224579 -32.2754,-23.368027 -1.39112,0.267801 -2.73554,0.642486 -4.02683,1.114752 z m -6.12664,90.434473 2.77209,14.39574 c 3.0422,15.80294 17.43683,26.22458 32.27541,23.36803 8.85252,-1.70419 15.80077,-7.73878 19.32259,-15.68538 -0.0138,-1.65182 -0.17118,-3.32777 -0.49623,-5.01621 -2.84069,-14.7563 -16.7891,-24.20034 -31.54546,-21.35962 z"
                                    id="rect5321"
                                    inkscape:connector-curvature="0"
                                />
                                <path
                                    style="fill:#82cde2;fill-opacity:1;stroke:none;stroke-width:24;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:23;stroke-opacity:0.97942349;paint-order:markers stroke fill"
                                    d="m 138.72858,62.022101 c -12.48246,4.565235 -20.02335,18.246618 -17.26636,32.568035 l 7.37678,38.318614 53.56745,-10.31224 -7.37678,-38.318612 c -3.0422,-15.802942 -17.43752,-26.226405 -32.2761,-23.369853 -1.39112,0.267801 -2.73371,0.64179 -4.02499,1.114056 z m -7.62152,82.669939 1.23256,6.40371 c 3.04219,15.80294 17.4375,26.22641 32.27609,23.36986 14.83859,-2.85656 24.33424,-17.87732 21.29204,-33.68027 l -1.23324,-6.40554 z"
                                    id="rect5323"
                                    inkscape:connector-curvature="0"
                                />
                                <rect
                                    transform="matrix(0.18903748,0.98196987,0.98196987,-0.18903748,0,0)"
                                    ry="27.276249"
                                    y="66.580635"
                                    x="166.34529"
                                    height="150.66879"
                                    width="54.55249"
                                    id="rect5325"
                                    style="fill:#82cde2;fill-opacity:1;stroke:none;stroke-width:24;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:23;stroke-opacity:1;paint-order:markers stroke fill"
                                />
                                <rect
                                    transform="matrix(-0.98196987,0.18903748,0.18903748,0.98196987,0,0)"
                                    ry="29.048922"
                                    y="121.10139"
                                    x="-355.59692"
                                    height="114.53574"
                                    width="54.552498"
                                    id="rect5317"
                                    style="fill:#82cde2;fill-opacity:1;stroke:none;stroke-width:24;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:23;stroke-opacity:0.97942349;paint-order:markers stroke fill"
                                />
                                <rect
                                    transform="matrix(-0.98196987,0.18903748,0.18903748,0.98196987,0,0)"
                                    style="fill:#82cde2;fill-opacity:1;stroke:none;stroke-width:24;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:23;stroke-opacity:0.97942349;paint-order:markers stroke fill"
                                    id="rect5319"
                                    width="54.552505"
                                    height="136.11494"
                                    x="-289.16772"
                                    y="97.862259"
                                    ry="29.048922"
                                />
                            </g>
                        </svg>
                    </div>
                    <div class="gauge">
                        <h2>FI-Compatibilité</h2>
                        <svg onload="init(evt)" pct="100" unit="%" viewBox="0 0 220 220" preserveAspectRatio= "xMinYMin meet" >
                            <script type="text/ecmascript"><![CDATA[
                                function polarToCartesian(centerX, centerY, radius, angleInDegrees) {
                                    var angleInRadians = (angleInDegrees-90) * Math.PI / 180.0;
                                    return {
                                        x: centerX + (radius * Math.cos(angleInRadians)),
                                        y: centerY + (radius * Math.sin(angleInRadians))
                                    };
                                }

                                function describeArc(x, y, radius, startAngle, endAngle){
                                    var start = polarToCartesian(x, y, radius, endAngle);
                                    var end = polarToCartesian(x, y, radius, startAngle);

                                    var largeArcFlag = endAngle - startAngle <= 180 ? "0" : "1";

                                    var d = [
                                        "M", start.x, start.y,
                                        "A", radius, radius, 0, largeArcFlag, 0, end.x, end.y
                                    ].join(" ");

                                    return d;
                                }

                                function init(evt) {
                                    var svgDocument = evt.target;

                                    pct = svgDocument.getAttribute("pct");
                                    svgDocument.getElementById("pct").textContent=pct+svgDocument.getAttribute("unit");
                                    svgDocument.getElementById("arc1").setAttribute("d", describeArc(110, 110, 100, 220, 500));
                                    // svgDocument.getElementById("arc2").setAttribute("d", describeArc(110, 110, 100, 220, 220+280*(pct/100)));
                                    var limit = 280*(pct/100);
                                    var nextval = 0;
                                    anime();
                                    function anime() {

                                        if (nextval<limit) {
                                            svgDocument.getElementById("arc2").setAttribute("d", describeArc(110, 110, 100, 220, 220+nextval));
                                            nextval = nextval + limit/20;
                                            setTimeout(anime,30);
                                        } else {
                                            svgDocument.getElementById("arc2").setAttribute("d", describeArc(110, 110, 100, 220, 220+limit));
                                        }
                                    }
                                }
                            ]]></script>
                            <text id="pct" text-anchor="middle" x="115" y="205" font-size="38" font-weight="bold" fill="#82cde2" style="font-family: 'Montserrat', sans serif;"></text>
                            <path id="arc1" fill="none" stroke="#82cde2" stroke-opacity="0.24" stroke-width="20" />
                            <path id="arc2" fill="none" stroke="#82cde2" stroke-width="20" />
                            <g transform="translate(100,65),scale(0.14)" id="layer1">
                                <path
                                id="path5712"
                                d="m 76.898732,499.60035 155.981128,0 c 32.03737,-2.41937 13.6665,-33.55618 -0.2615,-71.34944 a 64.526276,60.268684 0 0 1 -3.18621,-9.05634 c -0.0585,-0.17717 -0.12118,-0.35079 -0.17929,-0.52512 l 0.0521,-0.002 a 64.526276,60.268684 0 0 1 -1.77445,-13.72571 64.526276,60.268684 0 0 1 64.52561,-60.26918 64.526276,60.268684 0 0 1 64.52656,60.26918 64.526276,60.268684 0 0 1 -1.76389,13.71933 l 0.31429,0 c -13.8673,41.9726 -38.32668,78.29185 -3.66074,80.93161 l 155.74171,0 0,-155.75279 c -2.63962,-34.66878 -38.95622,-10.20756 -80.9258,3.66094 l -0.0106,-0.31535 a 60.264294,64.530975 0 0 1 -13.71799,1.76386 60.264294,64.530975 0 0 1 -60.26499,-64.53107 60.264294,64.530975 0 0 1 60.26499,-64.53035 l 10e-4,0 a 60.264294,64.530975 0 0 1 13.72433,1.77449 l 0.002,-0.0532 c 0.1761,0.0567 0.34937,0.12047 0.52508,0.18071 a 60.264294,64.530975 0 0 1 9.05574,3.18649 c 37.7905,13.92874 68.92469,32.30114 71.34399,0.26221 l 0,-155.992684 -155.7416,0 c -34.66591,-2.63977 -10.20653,-38.95902 3.66073,-80.931616 l -0.31429,0 a 64.526276,60.268684 0 0 0 1.764,-13.718696 64.526276,60.268684 0 0 0 -64.52664,-60.269528 64.526276,60.268684 0 0 0 -64.52557,60.269528 64.526276,60.268684 0 0 0 1.77446,13.725354 l -0.0517,0.0021 c 0.0581,0.177166 0.12083,0.350788 0.1793,0.525118 a 64.526276,60.268684 0 0 0 3.18621,9.0563392 c 13.92799,37.7929108 32.29887,68.9297208 0.26149,71.3490908 l -155.979668,0 0,155.992324 c 2.41923,32.04 33.553448,13.6676 71.343958,-0.2622 a 60.264294,64.530975 0 0 1 9.05669,-3.18614 c 0.17575,-0.0602 0.34902,-0.12048 0.52508,-0.18071 l 0.002,0.0531 a 60.264294,64.530975 0 0 1 13.72436,-1.77484 l 0.001,0 a 60.264294,64.530975 0 0 1 60.26499,64.53035 60.264294,64.530975 0 0 1 -60.26499,64.53142 60.264294,64.530975 0 0 1 -13.71802,-1.76386 l -0.007,0.31535 C 115.85696,333.64027 79.540262,309.17905 76.900712,343.84748 Z"
                                style="fill:#cccccc;fill-opacity:1;stroke:none;stroke-width:2.86136937;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:23;stroke-opacity:1;paint-order:markers fill stroke"
                                />
                                <path
                                id="path5714"
                                d="m -137.66822,-84.783471 a 64.530975,60.264294 0 0 1 64.531562,60.26563 64.530975,60.264294 0 0 1 -1.76361,13.717914 l 0.31429,0 c -12.89622,39.027753 -34.942742,73.160083 -10.09417,79.876773 l 162.18599,0 0,155.741814 c -0.0142,0.20197 -0.0379,0.39472 -0.0556,0.59386 2.62534,31.53968 33.666478,13.26047 71.317558,-0.61512 a 60.268681,64.526269 0 0 1 9.05573,-3.18543 c 0.17575,-0.0567 0.34831,-0.12048 0.52477,-0.18071 l 0.002,0.0531 a 60.268681,64.526269 0 0 1 13.72539,-1.77484 60.268681,64.526269 0 0 1 60.2703,64.52539 60.268681,64.526269 0 0 1 -60.2691,64.52646 60.268681,64.526269 0 0 1 -13.71919,-1.76351 l -0.007,0.31536 c -41.73038,-13.78701 -77.867008,-38.03492 -80.876978,-4.24488 0.0106,0.11692 0.0248,0.22677 0.0319,0.3437 l 0,155.98169 -162.18599,0 c -24.848572,6.71669 -2.80318,40.85043 10.09293,79.87819 l -0.31287,0 a 64.530975,60.264294 0 0 1 1.76361,13.71791 64.530975,60.264294 0 0 1 -64.531562,60.26563 64.530975,60.264294 0 0 1 -0.0496,-10e-4 64.530975,60.264294 0 0 1 -0.0358,10e-4 64.530975,60.264294 0 0 1 -64.53153,-60.26563 64.530975,60.264294 0 0 1 1.76365,-13.71791 l -0.31429,0 c 12.89618,-39.02776 34.94275,-73.1615 10.0941,-79.87819 l -162.18661,5e-5 0,-155.74181 c 0.0142,-0.20197 0.0379,-0.39295 0.056,-0.59138 -0.0177,-0.19134 -0.0376,-0.37205 -0.056,-0.55949 l 0,-116.79697 c 0.0106,-0.10275 0.0248,-0.19842 0.0319,-0.30118 -0.0106,-0.11693 -0.0248,-0.22677 -0.0319,-0.3437 l 0,-155.981694 0.0868,0 162.09929,0 c 24.84864,-6.7167 2.80204,-40.85044 -10.09411,-79.878192 l 0.31429,0 a 64.530975,60.264294 0 0 1 -1.76361,-13.717913 64.530975,60.264294 0 0 1 64.53029,-60.26563 l 0.001,0 a 64.530975,60.264294 0 0 1 0.0496,0.0014 64.530975,60.264294 0 0 1 0.0358,-0.0014 z"
                                style="fill:#82cde2;fill-opacity:1;stroke:none;stroke-width:2.86136937;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:23;stroke-opacity:1;paint-order:markers fill stroke"
                                />
                                <g style="fill:none;fill-opacity:1;stroke:#ffffff;stroke-opacity:1" transform="matrix(0.49139025,0,0,-0.49139025,-285.99394,485.93452)" id="g5718">
                                    <path
                                        style="opacity:1;fill:none;fill-opacity:1;stroke:#ffffff;stroke-width:67.58690643;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                                        d="m 251.40464,605.13746 c 34.94115,33.64879 44.78683,54.19907 34.74149,65.34646 -10.04535,11.14725 -70.43094,-10.67013 -99.03246,-27.15081 -59.40873,-34.23263 -97.198764,-97.92841 -97.198764,-174.91613 0,-116.03146 94.062034,-210.09347 210.093444,-210.09347 116.03141,0 207.74561,90.08758 210.09345,210.09347 2.34784,120.00591 -78.76312,182.2035 -148.69674,125.63889 C 271.73398,521.52696 237.34822,304.80419 286.59334,120.91415"
                                        id="path5716"
                                    />
                                </g>
                            </g>
                        </svg>
                    </div>
                    <div class="gauge">
                        <h2>EM-Compatibilité</h2>
                        <svg onload="init(evt)" pct="2" unit="%" viewBox="0 0 220 220" preserveAspectRatio= "xMinYMin meet" >
                            <script type="text/ecmascript"><![CDATA[
                                function polarToCartesian(centerX, centerY, radius, angleInDegrees) {
                                    var angleInRadians = (angleInDegrees-90) * Math.PI / 180.0;
                                    return {
                                        x: centerX + (radius * Math.cos(angleInRadians)),
                                        y: centerY + (radius * Math.sin(angleInRadians))
                                    };
                                }

                                function describeArc(x, y, radius, startAngle, endAngle){
                                    var start = polarToCartesian(x, y, radius, endAngle);
                                    var end = polarToCartesian(x, y, radius, startAngle);

                                    var largeArcFlag = endAngle - startAngle <= 180 ? "0" : "1";

                                    var d = [
                                        "M", start.x, start.y,
                                        "A", radius, radius, 0, largeArcFlag, 0, end.x, end.y
                                    ].join(" ");

                                    return d;
                                }

                                function init(evt) {
                                    var svgDocument = evt.target;

                                    pct = svgDocument.getAttribute("pct");
                                    svgDocument.getElementById("pct").textContent=pct+svgDocument.getAttribute("unit");
                                    svgDocument.getElementById("arc1").setAttribute("d", describeArc(110, 110, 100, 220, 500));
                                    // svgDocument.getElementById("arc2").setAttribute("d", describeArc(110, 110, 100, 220, 220+280*(pct/100)));
                                    var limit = 280*(pct/100);
                                    var nextval = 0;
                                    anime();
                                    function anime() {

                                        if (nextval<limit) {
                                            svgDocument.getElementById("arc2").setAttribute("d", describeArc(110, 110, 100, 220, 220+nextval));
                                            nextval = nextval + limit/20;
                                            setTimeout(anime,30);
                                        } else {
                                            svgDocument.getElementById("arc2").setAttribute("d", describeArc(110, 110, 100, 220, 220+limit));
                                        }
                                    }
                                }
                            ]]></script>
                            <text id="pct" text-anchor="middle" x="115" y="205" font-size="38" font-weight="bold" fill="#82cde2" style="font-family: 'Montserrat', sans serif;"></text>
                            <path id="arc1" fill="none" stroke="#82cde2" stroke-opacity="0.33" stroke-width="20" />
                            <path id="arc2" fill="none" stroke="#82cde2" stroke-width="20" />
                            <g transform="translate(100,65),scale(0.14)" id="layer1">
                                <path
                                style="fill:#cccccc;fill-opacity:1;stroke:none;stroke-width:2.86136937;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:23;stroke-opacity:1;paint-order:markers fill stroke"
                                d="m 78.753764,500.49359 -155.98134,0 c -32.037164,-2.41937 -13.66618,-33.55618 0.26221,-71.34944 a 64.526276,60.268684 0 0 0 3.18649,-9.05634 c 0.0602,-0.17717 0.12048,-0.35079 0.18071,-0.52512 l -0.0531,-0.002 a 64.526276,60.268684 0 0 0 1.77449,-13.72571 64.526276,60.268684 0 0 0 -64.525754,-60.26918 64.526276,60.268684 0 0 0 -64.52645,60.26918 64.526276,60.268684 0 0 0 1.76385,13.71933 l -0.31535,0 c 13.86709,41.9726 38.32654,78.29185 3.66059,80.93161 l -155.7418,0 0,-155.75279 c 2.6397,-34.66855 38.9565,-10.20733 80.92589,3.66117 l 0,-0.31535 a 60.264294,64.530975 0 0 0 13.71791,1.76386 60.264294,64.530975 0 0 0 60.26492,-64.53107 60.264294,64.530975 0 0 0 -60.26492,-64.53035 l -10e-4,0 a 60.264294,64.530975 0 0 0 -13.72429,1.77449 l -0.002,-0.0532 c -0.17717,0.0567 -0.35079,0.12047 -0.52512,0.18071 a 60.264294,64.530975 0 0 0 -9.05563,3.18649 c -37.79046,13.92879 -68.92476,32.30119 -71.34376,0.26226 l 0,-155.992688 155.74145,0 c 34.66594,-2.63977 10.20649,-38.95902 -3.66059,-80.931616 l 0.31535,0 a 64.526276,60.268684 0 0 1 -1.76421,-13.71898 64.526276,60.268684 0 0 1 64.52681,-60.26952 64.526276,60.268684 0 0 1 64.525394,60.26952 64.526276,60.268684 0 0 1 -1.77448,13.725358 l 0.0531,0.0021 c -0.0567,0.177166 -0.12048,0.350788 -0.18071,0.525118 a 64.526276,60.268684 0 0 1 -3.18615,9.0563387 c -13.92823,37.7929153 -32.298864,68.9297253 -0.2624,71.3490953 l 155.97992,0 0,155.992324 c -2.41937,32.04 -33.5537,13.6676 -71.3441297,-0.2622 a 60.264294,64.530975 0 0 0 -9.0567,-3.18614 c -0.17716,-0.0602 -0.35078,-0.12048 -0.52511,-0.18071 l -0.002,0.0531 A 60.264294,64.530975 0 0 0 -15.908786,220.7884 l -0.001,0 a 60.264294,64.530975 0 0 0 -60.26493,64.53035 60.264294,64.530975 0 0 0 60.26493,64.53142 60.264294,64.530975 0 0 0 13.7182603,-1.76386 l 0,0.31535 C 39.777884,334.53351 76.094664,310.07229 78.734064,344.74072 Z"
                                id="path5730" />
                                <path
                                style="fill:#82cde2;fill-opacity:1;stroke:none;stroke-width:2.86136937;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:23;stroke-opacity:1;paint-order:markers fill stroke"
                                d="m 293.3205,-83.890234 a 64.530975,60.264294 0 0 0 -64.53142,60.26563 64.530975,60.264294 0 0 0 1.7635,13.7179127 l -0.31535,0 C 243.13345,29.121062 265.18026,63.253392 240.3314,69.970082 l -162.186016,0 0,155.741818 c 0,0.20197 0.039,0.39472 0.0567,0.59386 -2.62524,31.53968 -33.66638,13.26047 -71.3175597,-0.61512 a 60.268681,64.526269 0 0 0 -9.05563,-3.18543 c -0.17716,-0.0567 -0.34724,-0.12048 -0.52476,-0.18071 l -0.002,0.0531 a 60.268681,64.526269 0 0 0 -13.7253603,-1.77484 60.268681,64.526269 0 0 0 -60.27023,64.52539 60.268681,64.526269 0 0 0 60.26917,64.52646 60.268681,64.526269 0 0 0 13.7189803,-1.76351 l 0,0.31536 c 41.7305897,-13.78701 77.8669997,-38.03492 80.8770397,-4.24488 0,0.11692 -0.0354,0.22677 -0.0354,0.3437 l 0,155.98169 162.186016,0 c 24.84851,6.71669 2.80311,40.85043 -10.09275,79.87819 l 0.31181,0 a 64.530975,60.264294 0 0 0 -1.76386,13.71791 64.530975,60.264294 0 0 0 64.53177,60.26563 64.530975,60.264294 0 0 0 0.0496,-10e-4 64.530975,60.264294 0 0 0 0.0354,10e-4 64.530975,60.264294 0 0 0 64.53142,-60.26563 64.530975,60.264294 0 0 0 -1.7635,-13.71791 l 0.31535,0 c -12.89622,-39.02776 -34.94303,-73.1615 -10.09417,-79.87819 l 162.18673,0 0,-155.74181 c 0,-0.20197 -0.039,-0.39295 -0.0567,-0.59138 0,-0.19134 0.039,-0.37205 0.0567,-0.55949 l 0,-116.79697 c 0,-0.10275 -0.0354,-0.19842 -0.0354,-0.30118 0,-0.11693 0.0354,-0.22677 0.0354,-0.3437 l 0,-155.981698 -0.085,0 -162.09921,0 c -24.84851,-6.7167 -2.80205,-40.85044 10.09417,-79.8781923 l -0.31535,0 a 64.530975,60.264294 0 0 0 1.7635,-13.7179137 64.530975,60.264294 0 0 0 -64.53035,-60.26563 l -0.001,0 a 64.530975,60.264294 0 0 0 -0.0496,0.001 64.530975,60.264294 0 0 0 -0.0354,-0.001 z"
                                id="path5732" />
                                <path
                                id="path5835"
                                d="m 122.00018,344.32411 c 0,-0.47658 3.87602,-26.60245 8.61343,-58.05745 4.7374,-31.455 8.63681,-58.36074 8.66551,-59.79047 0.0354,-1.42972 18.15555,-2.59937 40.28279,-2.59937 35.26193,0 39.97134,0.67713 38.1274,5.48256 -1.15724,3.01535 -2.10366,7.69465 -2.10366,10.39819 0,3.7676 -5.57362,4.91563 -23.85886,4.91563 -21.81224,0 -24.03779,0.66898 -25.9487,7.79882 -4.97126,18.55063 -3.65456,19.93039 19.01658,19.93039 20.29464,0 21.11173,0.33307 19.11083,7.79882 -1.14945,4.28917 -2.11111,8.96847 -2.13733,10.39819 -0.0354,1.42972 -9.22358,2.59972 -20.43956,2.59972 -18.21792,0 -20.61532,0.83162 -22.48264,7.79882 -5.14453,19.19729 -4.22681,19.93004 24.96685,19.93004 14.93291,0 27.92232,0.77103 28.86449,1.71355 0.94216,0.94216 1.02508,6.40133 0.18425,12.13122 l -1.52894,10.41803 -44.66622,0 c -24.56646,0 -44.66622,-0.38977 -44.66622,-0.86669 z m 104.79366,-3.54827 c 0,-2.42823 8.3165,-29.33398 18.48154,-59.79047 l 18.48189,-55.37552 15.99661,-1.04917 c 18.06732,-1.18453 15.12461,-6.2015 28.86236,49.20874 6.94489,28.01161 6.27414,28.42654 31.62898,-19.56437 l 16.02354,-30.32823 14.82626,0 c 17.78599,0 17.23713,-1.94315 20.31768,71.92169 l 2.06008,49.39229 -14.01732,0 c -7.70918,0 -14.2154,-0.38977 -14.45776,-0.86634 -0.24094,-0.47658 -1.41236,-18.02374 -2.59972,-38.99374 l -2.15859,-38.12776 -20.79673,38.12776 c -17.8976,32.81244 -22.00464,38.12705 -29.46224,38.12705 -8.08583,0 -9.28666,-2.39847 -17.96138,-35.86996 -5.11335,-19.72843 -10.02083,-36.59422 -10.90595,-37.47933 -0.88476,-0.88477 -7.35874,15.64653 -14.38618,36.73665 l -12.77752,38.34567 -13.57759,0 c -8.68678,0 -13.57796,-1.59024 -13.57796,-4.41496 z m 193.62969,-2.37756 c -8.55532,-9.45354 -4.62827,-23.5754 7.39488,-26.59323 12.05575,-3.02563 19.93642,2.32122 21.37146,14.50098 2.01826,17.12941 -16.98059,25.11567 -28.76634,12.09225 z m 8.53866,-65.77016 c 0,-40.69524 3.09756,-48.7513 18.74445,-48.7513 18.96449,0 19.25433,5.43721 3.27791,61.52351 -4.42523,15.53492 -6.41516,18.197 -13.60275,18.197 -8.28709,0 -8.41961,-0.4872 -8.41961,-30.96921 z"
                                style="fill:#ffffff;fill-opacity:1;stroke-width:0.97821659" />
                            </g>
                        </svg>
                    </div>
                </div>
                <div class="depute-votes-calendar">
                    <h2>Calendrier des votes</h2>
                    <div id="calendar"></div>
                </div>

                <div class="depute-votes-list">
                    <h2>Ses votes</h2>
                    <div class="depute-votes-search">
                        <label for="search"><i class="fa fa-search" aria-hidden="true"></i></label>
                        <input class="search" placeholder="Rechercher un vote">
                    </div>
                    <ul>
                        <li>
                            <div class="ico abstention">
                                <i class="fa fa-book"></i>
                            </div>
                            <div>
                                <header>
                                    <div>
                                        <h3><span>Pouvoirs publics : confiance dans l&#x27;action publique - Loi proposée par LREM</span></h3>
                                        <a href="/obsas_dev/fiches/scrutin?id=15_119">Scrutin n°119 du 09/08/2017 (adopté)</a>
                                    </div>
                                    <div class="vote abstention"><i class="fa fa-microphone-slash"></i> Abstention</div>
                                </header>
                                <p><i class="fa fa-arrow-circle-o-right"></i> l&#x27;ensemble du projet de loi organique pour la confiance dans la vie politique (lecture définitive).</p>
                            </div>
                        </li>
                        <li>
                            <div class="ico contre">
                                <i class="fa fa-pencil-square"></i>
                            </div>
                            <div>
                                <header>
                                    <div>
                                        <h3><span>Pouvoirs publics : confiance dans l&#x27;action publique - Amendement proposé par LFI</span></h3>
                                        <a href="/obsas_dev/fiches/scrutin?id=15_118">Scrutin n°118 du 09/08/2017 (rejeté)</a>
                                    </div>
                                    <div class="vote contre"><i class="fa fa-thumbs-down"></i> Contre</div>
                                </header>
                                <p><i class="fa fa-arrow-circle-o-right"></i> l&#x27;amendement n° 1 de M. Saddier et les amendements identiques suivants au projet de loi organique pour la confiance dans la vie politique (lecture définitive).</p>
                            </div>
                        </li>
                        <li>
                            <div class="ico pour">
                                <i class="fa fa-file"></i>
                            </div>
                            <div>
                                <header>
                                    <div>
                                        <h3><span>Pouvoirs publics : confiance dans l&#x27;action publique - Loi proposée par LR</span></h3>
                                        <a href="/obsas_dev/fiches/scrutin?id=15_117">Scrutin n°117 du 03/08/2017 (adopté)</a>
                                    </div>
                                    <div class="vote pour"><i class="fa fa-thumbs-up"></i> Pour</div>
                                </header>
                                <p><i class="fa fa-arrow-circle-o-right"></i> l&#x27;ensemble du projet de loi organique pour la confiance dans la vie politique (nouvelle lecture).</p>
                            </div>
                        </li>
                        <li>
                            <div class="ico absent">
                                <i class="fa fa-undo"></i>
                            </div>
                            <div>
                                <header>
                                    <div>
                                        <h3><span>Pouvoirs publics : confiance dans l&#x27;action publique - Motion proposée par le PCF</span></h3>
                                        <a href="/obsas_dev/fiches/scrutin?id=15_116">Scrutin n°116 du 03/08/2017 (rejeté)</a>
                                    </div>
                                    <div class="vote absent"><i class="fa fa-question"></i> Absent</div>
                                </header>
                                <p><i class="fa fa-arrow-circle-o-right"></i> l&#x27;amendement n° 59 de Mme Batho à l&#x27;article 12 du projet de loi organique pour la confiance dans la vie politique (nouvelle lecture).</p>
                            </div>
                        </li>
                        <li>
                            <div class="ico absent">
                                <i class="fa fa-microphone"></i>
                            </div>
                            <div>
                                <header>
                                    <div>
                                        <h3><span>Pouvoirs publics : confiance dans l&#x27;action publique - Déclaration</span></h3>
                                        <a href="/obsas_dev/fiches/scrutin?id=15_116">Scrutin n°116 du 03/08/2017 (rejeté)</a>
                                    </div>
                                    <div class="vote absent"><i class="fa fa-question"></i> Absent</div>
                                </header>
                                <p><i class="fa fa-arrow-circle-o-right"></i> l&#x27;amendement n° 59 de Mme Batho à l&#x27;article 12 du projet de loi organique pour la confiance dans la vie politique (nouvelle lecture).</p>
                            </div>
                        </li>
                        <li>
                            <div class="ico absent">
                                <i class="fa fa-undo"></i>
                            </div>
                            <div>
                                <header>
                                    <div>
                                        <h3><span>Pouvoirs publics : confiance dans l&#x27;action publique - Motion proposée par le MODEM</span></h3>
                                        <a href="/obsas_dev/fiches/scrutin?id=15_116">Scrutin n°116 du 03/08/2017 (rejeté)</a>
                                    </div>
                                    <div class="vote absent"><i class="fa fa-question"></i> Absent</div>
                                </header>
                                <p><i class="fa fa-arrow-circle-o-right"></i> l&#x27;amendement n° 59 de Mme Batho à l&#x27;article 12 du projet de loi organique pour la confiance dans la vie politique (nouvelle lecture).</p>
                            </div>
                        </li>
                        <li>
                            <div class="ico absent">
                                <i class="fa fa-undo"></i>
                            </div>
                            <div>
                                <header>
                                    <div>
                                        <h3><span>Pouvoirs publics : confiance dans l&#x27;action publique - Motion proposée par le PS</span></h3>
                                        <a href="/obsas_dev/fiches/scrutin?id=15_116">Scrutin n°116 du 03/08/2017 (rejeté)</a>
                                    </div>
                                    <div class="vote absent"><i class="fa fa-question"></i> Absent</div>
                                </header>
                                <p><i class="fa fa-arrow-circle-o-right"></i> l&#x27;amendement n° 59 de Mme Batho à l&#x27;article 12 du projet de loi organique pour la confiance dans la vie politique (nouvelle lecture).</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </section>
        </div>
    </div>
{{ end }}
{{ block script }}
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="{{ =URL('static','js/wordcloud2.js') }}"></script>
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script>
    $(document).ready(function() {
        var visible = $('.tab-container input:checked').val();
        $('#' + visible).addClass('visible');

        $('.tab-container input').change(function(e) {
            $('.tab-content').removeClass('visible');
            $('#' + e.target.value).addClass('visible');
        });
        /* position hemicycle */
        var svg = document.getElementById('hemicycle');
        svg.addEventListener('load', function () {
          //var svg = document.getElementById('hemicycle');
          var svgDoc = svg.contentDocument;
          $.each(svgDoc.getElementsByTagName('a'), function() {
              $(this).attr('href',"depute/index/"+$(this).attr('href'));
          });
          var styleElement = svgDoc.createElementNS("http://www.w3.org/2000/svg", "style");
          styleElement.textContent = "#p{{ =depute_place }} { fill:  black; stroke-width:5px; stroke: black;}"; // add whatever you need here
          svgDoc.getElementById('defs').appendChild(styleElement);

        });
        // Nuages
        var wordlist = {};
        wordlist['noms'] = JSON.parse('[["politique", 184], ["travail", 180], ["loi", 165], ["droit", 142], ["social", 126], ["compte", 111], ["va", 111], ["seul", 99], ["doit", 88], ["grand", 88], ["d\u00e9bat", 88], ["entreprise", 84], ["r\u00e9publique", 80], ["chose", 80], ["monde", 76], ["public", 76], ["raison", 76], ["accord", 72], ["pays", 72], ["temps", 72], ["situation", 69], ["rapport", 69], ["cas", 65], ["fran\u00e7ais", 65], ["syndicat", 61], ["norme", 61], ["mer", 57], ["salari\u00e9", 57], ["condition", 57], ["moment", 57], ["gens", 57], ["vie", 53], ["principe", 53], ["demande", 53], ["code", 53], ["peuple", 49], ["mani\u00e8re", 49], ["fort", 46], ["groupe", 46], ["vote", 46], ["\u00e9conomique", 46], ["reste", 42], ["ordonnance", 42], ["d\u00e9cision", 42], ["discussion", 42], ["part", 42], ["moins", 42], ["\u00e9tat", 42], ["pouvoir", 42], ["sens", 42], ["licenciement", 38], ["peu", 38], ["travailleur", 38], ["g\u00e9n\u00e9ral", 38], ["bon", 34], ["instant", 34], ["mesure", 30], ["branche", 30], ["mot", 30], ["compris", 30], ["territoire", 30], ["train", 30], ["dette", 30], ["libert\u00e9", 26], ["confiance", 26], ["petit", 26], ["vue", 26], ["r\u00e8gle", 26], ["personne", 26], ["jour", 26], ["soci\u00e9t\u00e9", 26], ["fa\u00e7on", 26], ["niveau", 26], ["fin", 23], ["contraire", 23], ["possible", 23], ["hi\u00e9rarchie", 23], ["c\u00f4t\u00e9", 23], ["taux", 23], ["relation", 23], ["heure", 23], ["assembl\u00e9e", 23], ["cause", 23], ["partie", 23], ["personnel", 23], ["crise", 23], ["production", 19], ["pris", 19], ["sorte", 19], ["doute", 19], ["article", 19], ["d\u00e9tach\u00e9", 19], ["r\u00e9serve", 19], ["particulier", 19], ["donne", 19], ["t\u00e9l\u00e9travail", 19], ["trente", 19], ["moyen", 19], ["protection", 15], ["banc", 15], ["faveur", 15], ["parler", 15], ["donner", 15], ["projet", 15], ["ann\u00e9e", 15], ["contrat", 15], ["mandat", 15], ["savoir", 15], ["repr\u00e9sentation", 15], ["classe", 15], ["r\u00e9sultat", 15], ["lutte", 15], ["ami", 15], ["jeune", 11], ["bas", 11], ["candidat", 11], ["bonne", 11], ["brave", 11], ["mal", 11], ["nombreux", 11], ["probl\u00e8me", 11], ["forme", 11], ["contr\u00f4le", 11], ["nouveau", 11], ["d\u00e9pense", 11], ["vision", 11], ["besoin", 11], ["r\u00f4le", 11], ["devon", 11], ["r\u00e9publicain", 11], ["majorit\u00e9", 11], ["fond", 11], ["comp\u00e9titivit\u00e9", 11], ["propos", 11], ["coup", 11], ["signal", 11], ["conseil", 11], ["r\u00e9f\u00e9rendum", 11], ["nature", 11], ["s\u00e9curit\u00e9", 7], ["propre", 7], ["candidature", 7], ["vertu", 7], ["philosophie", 7], ["capacit\u00e9", 7], ["terme", 7], ["gouvernement", 7], ["cadre", 7], ["passage", 7], ["salaire", 7], ["vrai", 7], ["europ\u00e9en", 7], ["fonctionnaire", 7], ["responsabilit\u00e9", 7], ["r\u00e9volution", 7], ["d\u00e9mocratie", 7], ["s\u00e9ance", 7], ["source", 7], ["suppression", 7], ["proposition", 7], ["repr\u00e9sentant", 7], ["nationale", 7], ["d\u00e9but", 7], ["qualification", 7], ["face", 7], ["libre", 7], ["revient", 7], ["cotisation", 7], ["h\u00e9micycle", 7], ["collectif", 7], ["entendu", 7], ["pardon", 3], ["patronal", 3], ["histoire", 3], ["circonstance", 3], ["service", 3], ["somme", 3], ["quarante", 3], ["rendu", 3], ["argument", 3], ["change", 3], ["volont\u00e9", 3], ["int\u00e9r\u00eat", 3], ["organisation", 3], ["r\u00e9ponse", 3], ["capable", 3], ["propri\u00e9t\u00e9", 3], ["tour", 3], ["ouvrier", 3], ["violence", 3], ["fiscal", 3], ["sixi\u00e8me", 3], ["espace", 3], ["r\u00e9alit\u00e9", 3], ["acte", 3], ["surtout", 3], ["bout", 3], ["porte", 3], ["favorable", 3], ["dernier", 3]]');
        wordlist['verbs'] = JSON.parse('[["faire", 515], ["pouvoir", 510], ["vouloir", 289], ["falloir", 265], ["croire", 176], ["venir", 171], ["permettre", 127], ["prendre", 122], ["voir", 117], ["trouver", 103], ["mettre", 103], ["aller", 103], ["parler", 103], ["penser", 103], ["voter", 88], ["demander", 83], ["devoir", 83], ["comprendre", 78], ["rappeler", 63], ["discuter", 58], ["supprimer", 58], ["cr\u00e9er", 58], ["repr\u00e9senter", 58], ["r\u00e9pondre", 58], ["tenir", 54], ["passer", 54], ["\u00e9voquer", 54], ["proposer", 54], ["changer", 49], ["commencer", 49], ["maintenir", 49], ["arriver", 49], ["travailler", 49], ["savoir", 44], ["consid\u00e9rer", 44], ["inventer", 39], ["sembler", 39], ["donner", 34], ["appeler", 34], ["finir", 34], ["montrer", 34], ["entendre", 34], ["rendre", 34], ["conclure", 34], ["respecter", 34], ["d\u00e9fendre", 34], ["remercier", 34], ["souhaiter", 34], ["concerner", 29], ["expliquer", 29], ["partir", 29], ["sais", 29], ["para\u00eetre", 29], ["vivre", 29], ["r\u00e9fl\u00e9chir", 29], ["exister", 29], ["conna\u00eetre", 29], ["pr\u00e9senter", 29], ["rester", 29], ["saisir", 29], ["devenir", 24], ["pr\u00e9voir", 24], ["valoir", 24], ["exprimer", 24], ["perdre", 24], ["relever", 24], ["pr\u00e9parer", 24], ["accepter", 24], ["payer", 24], ["intervenir", 24], ["signifier", 24], ["essayer", 24], ["revenir", 19], ["b\u00e9n\u00e9ficier", 19], ["convenir", 19], ["retirer", 19], ["rassurer", 19], ["soutenir", 19], ["prot\u00e9ger", 19], ["r\u00e9duire", 19], ["interpeller", 19], ["terminer", 19], ["choisir", 19], ["reconna\u00eetre", 19], ["proc\u00e9der", 19], ["d\u00e9noncer", 19], ["suivre", 19], ["cesser", 19], ["r\u00e9unir", 19], ["regarder", 19], ["viser", 19], ["r\u00e9tablir", 19], ["laisser", 19], ["correspondre", 19], ["r\u00e9sumer", 19], ["participer", 19], ["d\u00e9pendre", 19], ["reprendre", 14], ["\u00e9couter", 14], ["exercer", 14], ["sugg\u00e9rer", 14], ["entrer", 14], ["parvenir", 14], ["construire", 14], ["invoquer", 14], ["affirmer", 14], ["imaginer", 14], ["produire", 14], ["pr\u00e9tendre", 14], ["dominer", 14], ["soulever", 14], ["servir", 14], ["d\u00e9truire", 14], ["percevoir", 14], ["d\u00e9poser", 14], ["poster", 14], ["admettre", 14], ["chercher", 14], ["souligner", 14], ["utiliser", 14], ["d\u00e9rouler", 9], ["gouverner", 9], ["inverser", 9], ["rechercher", 9], ["opposer", 9], ["plaire", 9], ["d\u00e9placer", 9], ["lutter", 9], ["pratiquer", 9], ["estimer", 9], ["modifier", 9], ["citer", 9], ["conduire", 9], ["convaincre", 9], ["r\u00e9sulter", 9], ["connais", 9], ["reculer", 9], ["organiser", 9], ["corriger", 9], ["apporter", 9], ["d\u00e9penser", 9], ["contenter", 9], ["aboutir", 9], ["supposer", 9], ["recevoir", 9], ["autoriser", 9], ["manifester", 9], ["accumuler", 9], ["garantir", 9], ["favoriser", 9], ["pousser", 9], ["souvenir", 9], ["suffire", 9], ["distinguer", 9], ["emp\u00eacher", 9], ["traduire", 9], ["couper", 9], ["compl\u00e9ter", 9], ["confirmer", 9], ["traiter", 9], ["contenir", 9], ["contribuer", 9], ["d\u00e9montrer", 9], ["r\u00e9gler", 9], ["refuser", 9], ["disposer", 9], ["d\u00e9cider", 9], ["monter", 9], ["mourir", 9], ["constater", 9], ["co\u00fbter", 9], ["d\u00e9faire", 9], ["projeter", 4], ["peser", 4], ["aider", 4], ["d\u00e9sorganiser", 4], ["continuer", 4], ["d\u00e9roger", 4], ["partager", 4], ["attendre", 4], ["animer", 4], ["importer", 4], ["soustraire", 4], ["assister", 4], ["r\u00e9p\u00e9ter", 4], ["refonder", 4], ["aimer", 4], ["r\u00e9f\u00e9rer", 4], ["insister", 4], ["pr\u00e9sider", 4], ["sortir", 4], ["poss\u00e9der", 4], ["d\u00e9porter", 4], ["fausser", 4], ["installer", 4], ["d\u00e9couvrir", 4], ["argumenter", 4], ["surgir", 4], ["emb\u00eater", 4], ["ressembler", 4]]');

        function showNuage(lex) {
            if (lex=='verbatim') {
                return
            }
            var div = document.getElementById("sourrounding_div_"+lex);
            var canvas = document.getElementById("wordcanvas_"+lex);

            canvas.height = div.offsetHeight;
            canvas.width  = div.offsetWidth;

            WordCloud(document.getElementById('wordcanvas_'+lex), {
                gridSize: Math.round(16 * document.getElementById('wordcanvas_'+lex).offsetWidth / 1024),
                weightFactor: function (size) {
                    return 0.3*size;
                },
                list: wordlist[lex],
                color: function(word, weight) {
                    if (weight < 50) {
                        return '#82cde2';
                    } else if (weight < 130) {
                        return '#213558';
                    }
                    return '#ff0052';
                },
                backgroundColor: 'transparent'
            });
        }

        function drawNuages() {
            showNuage('noms');
            showNuage('verbs');
        }

        // Calendrier
        function genCalendar() {
            var width = document.getElementById('calendar').offsetWidth+20,
                yearHeight = width / 7,
                height = yearHeight,
                cellSize = yearHeight / 8;

            var percent = d3.format(".1%"),
                format = d3.timeFormat("%Y-%m-%d");

            var color = d3.scaleQuantize()
                .domain([.0, 1.0])
                .range(d3.range(5).map(function(d) { return "q" + d + "-5"; }));

            var svgcal = d3.select("#calendar").selectAll("svg")
                .data(d3.range(2017, 2018))
              .enter().append("svg")
                .attr("width", width)
                .attr("height", height+20)
                .attr("class", "RdYlGn")
              .append("g")
                .attr("transform", "translate(" + ((width - cellSize * 53) / 2) + "," + (20+height - cellSize * 7 - 1) + ")");

            svgcal.append("text")
                .attr("transform", "translate(-6," + cellSize * 3.5 + ")rotate(-90)")
                .style("text-anchor", "middle")
                .text(function(d) { return d; });

            var rect = svgcal.selectAll(".day")
                .data(function(d) { return d3.timeDays(new Date(d, 0, 1), new Date(d + 1, 0, 1)); })
              .enter().append("rect")
                .attr("class", "day")
                .attr("width", cellSize)
                .attr("height", cellSize)
                .attr("x", function(d) { return d3.timeMonday.count(d3.timeYear(d), d) * cellSize; })
                .attr("y", function(d) { return ((d.getDay()+6)%7) * cellSize; })
                .datum(format);

            rect.append("title")
                .text(function(d) { return d; });

            svgcal.selectAll(".month")
                .data(function(d) { return d3.timeMonths(new Date(d, 0, 1), new Date(d + 1, 0, 1)); })
              .enter().append("text").text(monthLabel).style("font-size:10px;", "middle").attr("transform",monthLabelTransform);
            function monthLabel(t0) {
                return Array('JAN','FEV','MAR','AVR','MAI','JUN','JUI','AOU','SEP','OCT','NOV','DEC')[t0.getMonth()];
            }
            function monthLabelTransform(t0) {
              var t1 = new Date(t0.getFullYear(), t0.getMonth() + 1, 0),
                  d0 = ((t0.getDay()+6)%7), w0 = d3.timeMonday.count(d3.timeYear(t0), t0)
                  d1 = ((t1.getDay()+6)%7), w1 = d3.timeMonday.count(d3.timeYear(t1), t1);
              return "translate("+(2+w0)*cellSize+",-5)";
            }

            svgcal.selectAll(".month")
                .data(function(d) { return d3.timeMonths(new Date(d, 0, 1), new Date(d + 1, 0, 1)); })
              .enter().append("path")
                .attr("class", "month")
                .attr("d", monthPath);


            var csv = JSON.parse('[{"date": "2017-07-04", "pct": 1.0}, {"date": "2017-07-06", "pct": 0.0}, {"date": "2017-07-10", "pct": 1.0}, {"date": "2017-07-11", "pct": 0.9411764705882353}, {"date": "2017-07-12", "pct": 0.6666666666666666}, {"date": "2017-07-13", "pct": 0.8333333333333334}, {"date": "2017-07-18", "pct": 0.5}, {"date": "2017-07-19", "pct": 0.0}, {"date": "2017-07-24", "pct": 1.0}, {"date": "2017-07-25", "pct": 0.23076923076923078}, {"date": "2017-07-26", "pct": 0.0}, {"date": "2017-07-27", "pct": 0.375}, {"date": "2017-07-28", "pct": 0.6}, {"date": "2017-08-01", "pct": 1.0}, {"date": "2017-08-03", "pct": 0.5454545454545454}, {"date": "2017-08-09", "pct": 1.0}]');
            var data = d3.nest()
                .key(function(d) { return d.date; })
                .rollup(function(d) { return d[0].pct; })
                .map(csv);

              rect.filter(function(d) { return data.has(d); })
                  .attr("class", function(d) { return "day " + color(data.get(d)); })
                .select("title")
                  .text(function(d) { return d + ": " + percent(data.get(d)); });

            function monthPath(t0) {
              var t1 = new Date(t0.getFullYear(), t0.getMonth() + 1, 0),
                  d0 = ((t0.getDay()+6)%7), w0 = d3.timeMonday.count(d3.timeYear(t0), t0)
                  d1 = ((t1.getDay()+6)%7), w1 = d3.timeMonday.count(d3.timeYear(t1), t1);
              return "M" + (w0 + 1) * cellSize + "," + d0 * cellSize
                  + "H" + w0 * cellSize + "V" + 7 * cellSize
                  + "H" + w1 * cellSize + "V" + (d1 + 1) * cellSize
                  + "H" + (w1 + 1) * cellSize + "V" + 0
                  + "H" + (w0 + 1) * cellSize + "Z";
            }
        }

        drawNuages();
        genCalendar();
        var resizeDebounce;
        $(window).resize(function() {
            clearTimeout(resizeDebounce);
            resizeDebounce = setTimeout(function() {
                window.requestAnimationFrame(function() {
                    drawNuages();
                    $('#calendar svg').remove();
                    genCalendar();
                });
            }, 100);
        });
    });
    </script>
{{ end }}
